<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D√™Gusto Lanchonete Premium 2026</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="icon" href="https://i.ibb.co/MyY29Cj5/download-We-Resize-com.png" type="image/png">
    <style>
        /* ====================== CSS COMPLETO 2026 ====================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            color: #333;
            overflow-x: hidden;
            min-height: 100vh;
            transition: background 0.5s, color 0.5s;
        }
        body.dark-mode { background: #121212; color: #f0f0f0; }

        /* Logo Grande e Destacada no Lugar do T√≠tulo */
        .header-logo {
            background: linear-gradient(135deg, #c62828, #b71c1c);
            padding: 60px 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        .header-logo-img {
            height: 220px;
            max-width: 90%;
            filter: drop-shadow(0 8px 20px rgba(0,0,0,0.5));
            transition: transform 0.4s;
        }
        .header-logo-img:hover { transform: scale(1.05); }
        .dark-mode .header-logo-img { filter: drop-shadow(0 8px 20px rgba(0,0,0,0.8)) brightness(1.2); }

        .bg-gradient-footer { background: linear-gradient(135deg, #1a1a1a, #333); }

        /* Grid Card√°pio */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            padding: 15px;
        }
        .item {
            background: #fff;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.4s;
            text-align: center;
            padding: 15px;
        }
        .item:hover { transform: translateY(-12px); box-shadow: 0 20px 40px rgba(0,0,0,0.15); }
        .item img { width: 100%; height: 200px; object-fit: cover; border-radius: 15px; cursor: pointer; }
        .item h3 { color: #d32f2f; font-weight: bold; margin: 15px 0 5px; }
        .item span { font-size: 1.6rem; font-weight: bold; color: #d32f2f; display: block; margin: 10px 0; }
        .dark-mode .item { background: #1e1e1e; }
        .dark-mode .item h3, .dark-mode .item span { color: #ff5252; }

        /* Abas */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }
        .tab-btn.active { background: #d32f2f !important; color: #fff !important; }

        /* Bot√µes Flutuantes */
        .float-btn {
            position: fixed;
            width: 60px; height: 60px;
            border-radius: 50%;
            border: none;
            color: #fff;
            font-size: 24px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        @media (max-width: 768px) {
            .float-btn { width: 50px; height: 50px; font-size: 20px; }
        }
        .cart-float   { right: 20px; bottom: 20px; background: #28a745; }
        .share-float  { right: 90px; bottom: 20px; background: #25d366; }
        .help-float   { right: 160px; bottom: 20px; background: #007bff; }
        .theme-float  { right: 230px; bottom: 20px; background: #6c757d; }

        /* Bot√£o Suporte Esquerdo Pequeno */
        .support-btn {
            position: fixed;
            left: 15px;
            bottom: 20px;
            width: 55px;
            height: 55px;
            background: #25d366;
            color: white;
            border-radius: 50%;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            z-index: 1000;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        @media (max-width: 768px) {
            .support-btn { width: 48px; height: 48px; font-size: 20px; bottom: 15px; left: 10px; }
        }

        .badge {
            position: absolute; top: -5px; right: -5px;
            background: #ff0000; color: #fff;
            border-radius: 50%; width: 24px; height: 24px;
            font-size: 12px; font-weight: bold;
            display: flex; align-items: center; justify-content: center;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed; z-index: 2000; left: 0; top: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            justify-content: center; align-items: center;
            padding: 20px;
        }
        .modal-content {
            background: #fff; border-radius: 25px;
            max-width: 600px; width: 100%;
            max-height: 90vh; overflow-y: auto;
            padding: 35px; position: relative;
        }
        @media (max-width: 768px) { .modal-content { padding: 20px; max-width: 90%; } }
        .dark-mode .modal-content { background: #1e1e1e; }
        .close { position: absolute; top: 15px; right: 25px; font-size: 35px; cursor: pointer; color: #aaa; }
        .close:hover { color: #d32f2f; }
        .full-image { max-width: 90%; max-height: 90vh; margin: auto; display: block; border-radius: 15px; }

        /* Carrinho Melhorado */
        .cart-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        .dark-mode .cart-item { border-bottom-color: #444; }
        .cart-item-img {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 10px;
        }
        .cart-item-info { flex: 1; }
        .cart-item-info strong { font-size: 1.1rem; }
        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Notifica√ß√£o */
        .notification {
            position: fixed; bottom: 100px; left: 50%;
            transform: translateX(-50%);
            background: #333; color: #fff;
            padding: 15px 30px; border-radius: 50px;
            font-weight: bold; z-index: 3000;
            display: none; box-shadow: 0 4px 15px rgba(0,0,0,0.4);
        }

        /* Promo√ß√£o √önica Destaque */
        .highlight-promo {
            background: linear-gradient(135deg, #ff416c, #ff8a00);
            color: white;
            border-radius: 25px;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 15px 40px rgba(255,65,108,0.4);
            border: 5px solid #fff;
            animation: pulse-border 3s infinite;
        }
        @keyframes pulse-border {
            0% { box-shadow: 0 0 0 0 rgba(255,255,255,0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255,255,255,0); }
            100% { box-shadow: 0 0 0 0 rgba(255,255,255,0); }
        }
        .highlight-promo h2 { font-size: 2.5rem; font-weight: bold; text-shadow: 2px 2px 8px rgba(0,0,0,0.5); }
        .highlight-promo .price { font-size: 4rem; font-weight: bold; }
        .highlight-promo .desc { font-size: 1.4rem; margin: 15px 0; }

        /* R√°dio Fino */
        .radio-player {
            max-width: 420px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 12px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .dark-mode .radio-player { background: rgba(0,0,0,0.3); }
        #radioPlayer { width: 100%; height: 40px; border-radius: 10px; }

        /* 5 Estrelas */
        .stars-5 { color: #ffc107; font-size: 2.5rem; letter-spacing: 6px; text-shadow: 0 2px 6px rgba(0,0,0,0.4); }

        /* Chat */
        .chat-container {
            position: fixed; bottom: 90px; right: 20px;
            width: 400px; height: 550px;
            background: white; border-radius: 20px;
            box-shadow: 0 12px 45px rgba(0,0,0,0.25);
            overflow: hidden; z-index: 1100;
            display: none; flex-direction: column;
        }
        @media (max-width: 768px) {
            .chat-container { width: 90%; height: 80vh; bottom: 0; right: 0; border-radius: 20px 20px 0 0; }
        }
        .dark-mode .chat-container { background: #1e1e1e; }
        .chat-header { background: #d32f2f; color: white; padding: 16px 18px; display: flex; align-items: center; gap: 14px; }
        .chat-avatar-img { width: 50px; height: 50px; border-radius: 50%; border: 3px solid white; }
        .chat-body { flex: 1; padding: 18px; overflow-y: auto; background: #f8f9fa; }
        .dark-mode .chat-body { background: #121212; }
        .message { margin-bottom: 14px; max-width: 85%; padding: 12px 16px; border-radius: 20px; line-height: 1.5; }
        .message.bot { background: #d32f2f; color: white; border-bottom-left-radius: 5px; }
        .message.user { background: #e0e0e0; align-self: flex-end; margin-left: auto; border-bottom-right-radius: 5px; }
        .dark-mode .message.user { background: #333; }
        .chat-footer { display: flex; padding: 14px; border-top: 1px solid #ddd; background: white; }
        .dark-mode .chat-footer { background: #1e1e1e; border-top-color: #444; }
        #chat-input { flex: 1; border: none; outline: none; padding: 12px 18px; border-radius: 30px; background: #f1f1f1; margin-right: 10px; }
        .dark-mode #chat-input { background: #2a2a2a; color: white; }
        #send-chat { background: #d32f2f; color: white; border: none; width: 48px; height: 48px; border-radius: 50%; cursor: pointer; }
        .quick-suggestions { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 14px; }
        .quick-btn { background: #e0e0e0; border: none; padding: 10px 16px; border-radius: 25px; font-size: 0.9rem; cursor: pointer; }
        .dark-mode .quick-btn { background: #444; color: white; }

        @media (max-width: 768px) {
            .menu-grid { grid-template-columns: 1fr; }
            .float-btn { bottom: 10px; }
            .cart-float { right: 10px; }
            .share-float { right: 70px; }
            .help-float { right: 130px; }
            .theme-float { right: 190px; }
        }
    </style>
</head>
<body>

    <!-- LOGO GRANDE E DESTACADA NO TOPO (substituindo o t√≠tulo antigo) -->
    <header class="header-logo">
        <img src="https://i.ibb.co/DPDZb4W1/Gemini-Generated-Image-40opkn40opkn40op-Photoroom.png" alt="D√™Gusto Logo Grande" class="header-logo-img">
        <p class="text-white fs-4 mt-3 fw-bold">Monte Carmelo ‚Ä¢ Delivery a partir das 19h</p>
    </header>

    <!-- Bot√£o Suporte Esquerdo Pequeno -->
    <button class="support-btn" id="support-button" title="Atendimento Online">
        <i class="bi bi-headset"></i>
    </button>

    <!-- Bot√µes Flutuantes Direita -->
    <button class="float-btn cart-float" id="cart-button"><i class="bi bi-cart4"></i><span class="badge" id="cartCount">0</span></button>
    <button class="float-btn share-float" id="share-button"><i class="bi bi-share-fill"></i></button>
    <button class="float-btn help-float" id="help-button"><i class="bi bi-question-circle-fill"></i></button>
    <button class="float-btn theme-float" id="theme-button"><i class="bi bi-moon-stars-fill"></i></button>

    <!-- Chat IA -->
    <div id="chat-container" class="chat-container">
        <div class="chat-header">
            <div><img src="https://i.ibb.co/9kr5m2S7/Gemini-Generated-Image-yrtys6yrtys6yrty-Photoroom.png" alt="Bot" class="chat-avatar-img"></div>
            <div><h5>D√™Gusto Atendimento</h5><small>Online 24h ‚Ä¢ 2026</small></div>
            <button id="close-chat" class="btn-close">√ó</button>
        </div>
        <div id="chat-body" class="chat-body"></div>
        <div class="chat-footer">
            <input type="text" id="chat-input" placeholder="Fale comigo... üòä">
            <button id="send-chat"><i class="bi bi-send-fill"></i></button>
        </div>
    </div>

    <!-- Promo√ß√£o √önica Destaque -->
    <section class="container my-5">
        <div class="highlight-promo">
            <h2>JANTINHA 500G</h2>
            <p class="desc">Arroz, feij√£o, carne suculenta e batata frita</p>
            <div class="price">R$ 12,00</div>
            <p class="mt-3 fs-4">üî• Promo√ß√£o Imperd√≠vel do Dia üî•</p>
        </div>
    </section>

    <main class="container my-5 pb-5">
        <h2 class="text-center mb-5 display-4 fw-bold text-danger">üçü Card√°pio Completo</h2>
        <div class="text-center mb-5">
            <input type="text" id="searchInput" class="form-control w-75 mx-auto shadow-lg" style="max-width:500px;" placeholder="üîç Buscar X-Costela, Jantinha, Coca...">
        </div>
        <div class="d-flex justify-content-center flex-wrap gap-2 mb-5" id="tab-buttons"></div>
        <div id="tab-panels"></div>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-5 bg-gradient-footer">
        <div class="container">
            <h3 class="mb-3">üìª R√°dio D√™Gusto 24H</h3>
            <div class="radio-player my-4 mx-auto">
                <audio id="radioPlayer" controls loop preload="metadata">
                    <source src="https://stream.zeno.fm/si5xey7akartv.mp3" type="audio/mpeg">
                </audio>
                <div class="mt-3 d-flex justify-content-center gap-3">
                    <button id="playPauseBtn" class="btn btn-outline-light px-4"><i class="bi bi-play-fill"></i> Play</button>
                    <button id="muteBtn" class="btn btn-outline-light px-4"><i class="bi bi-volume-up-fill"></i> Som</button>
                </div>
            </div>

            <div class="my-5">
                <p class="fs-3 fw-bold mb-2">Avalia√ß√£o 5 Estrelas</p>
                <div class="stars-5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <p class="mt-2 fs-5">+500 avalia√ß√µes no Google</p>
            </div>

            <div>
                <p class="fs-4 fw-bold mb-2">¬© 2026 D√™Gusto Lanchonete Premium</p>
                <p>üìç Monte Carmelo/MG ‚Ä¢ ‚òéÔ∏è (34) 99953-7698</p>
                <p class="mt-4 pt-3 border-top"><strong>Design:</strong> <a href="https://www.pablologomarcas.online" target="_blank" class="text-warning text-decoration-none fw-bold">PabloDesigner ‚ú®</a></p>
            </div>
        </div>
    </footer>

    <!-- Modais -->
    <div id="cartModal" class="modal"><div class="modal-content">
        <span class="close" onclick="closeModal('cartModal')">√ó</span>
        <h2 class="text-center mb-4">üõí Seu Carrinho</h2>
        <div id="cartItems" class="mb-4"></div>
        <div class="text-center mt-4">
            <button class="btn btn-outline-danger btn-lg me-3 px-4" onclick="clearCart()"><i class="bi bi-trash"></i> Limpar</button>
            <button class="btn btn-success btn-lg px-5" onclick="openCheckout()"><i class="bi bi-whatsapp"></i> Finalizar</button>
        </div>
        <div class="text-center p-4 bg-success bg-opacity-10 rounded mt-4 border-success">
            <p class="fw-bold text-success mb-3 fs-5">‚ö° PIX = Entrega mais r√°pida!</p>
            <button id="copy-pix-cart" class="btn btn-success btn-lg px-4">üìã Copiar: 10738419605</button>
        </div>
    </div></div>

    <div id="checkout-modal" class="modal"><div class="modal-content">
        <span class="close" onclick="closeModal('checkout-modal')">√ó</span>
        <form id="checkout-form">
            <h3 class="text-center mb-4">‚úÖ Finalizar Pedido</h3>
            <input type="text" id="nome-cliente" class="form-control mb-3 fs-5" placeholder="üë§ Nome" required>
            <input type="text" id="rua" class="form-control mb-3 fs-5" placeholder="üè† Rua/Avenida" required>
            <div class="row mb-3">
                <div class="col-4"><input type="text" id="numero" class="form-control fs-5" placeholder="# N¬∫" required></div>
                <div class="col-8"><input type="text" id="bairro" class="form-control fs-5" placeholder="üó∫Ô∏è Bairro" required></div>
            </div>
            <input type="text" id="referencia" class="form-control mb-3 fs-5" placeholder="üìç Refer√™ncia">
            <div class="mb-4"><label class="form-label h5 fw-bold">üí∞ Pagamento</label>
                <div class="row g-3 mt-2">
                    <div class="col-4"><label class="btn btn-outline-danger w-100 p-3"><input type="radio" name="pagamento" value="Dinheiro" required> üíµ Dinheiro</label></div>
                    <div class="col-4"><label class="btn btn-success w-100 p-3"><input type="radio" name="pagamento" value="PIX"> ‚ö° PIX</label></div>
                    <div class="col-4"><label class="btn btn-warning w-100 p-3"><input type="radio" name="pagamento" value="Cart√£o"> üí≥ Cart√£o</label></div>
                </div>
                <div id="troco-div" class="mt-3" style="display:none;">
                    <input type="number" id="troco" class="form-control fs-5" placeholder="üí∞ Troco para quanto?">
                </div>
            </div>
            <textarea id="observacoes" class="form-control mb-4 fs-5" rows="3" placeholder="üìù Observa√ß√µes"></textarea>
            <div class="text-center">
                <h3 id="checkout-total" class="text-danger fw-bold mb-4 fs-1">R$ 0,00</h3>
                <button type="submit" class="btn btn-success btn-lg px-5 py-3 fs-4 shadow-lg">üöÄ Enviar no WhatsApp</button>
            </div>
        </form>
    </div></div>

    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal('imageModal')">√ó</span>
        <img id="fullImage" class="full-image">
    </div>

    <div id="notification" class="notification"></div>

    <script>
        // ====================== JAVASCRIPT COMPLETO ======================
        let cart = JSON.parse(localStorage.getItem('degusto_cart')) || [];
        const phoneNumber = "5534999537698";
        const pixKey = "10738419605";

        const menuData = {
            hamburgueres: { title: "üçî Hamb√∫rgueres", items: [
                { name: "X-COSTELA", price: 30.00, img: "https://i.ibb.co/QjhNdtMh/20251009-134607.jpg", desc: "Costela desfiada + cheddar + bacon" },
                { name: "X-Tudo com Creme de Milho", price: 30.00, img: "https://i.ibb.co/YFwNVZMd/20251031-205644.jpg" },
                { name: "X-Cheddar com An√©is", price: 26.00, img: "https://i.ibb.co/LDYypj6Q/20251031-205800.jpg" },
                { name: "X-Bacon Goiabada", price: 26.00, img: "https://i.ibb.co/4n86G96b/20251031-205913.jpg" },
                { name: "X-Abacaxi", price: 30.00, img: "https://i.ibb.co/QFLZqn5z/20251029-174738.jpg" },
                { name: "ESPECIAL TIL√ÅPIA", price: 30.00, img: "https://i.ibb.co/7cYcLrD/IMG-20250924-WA0010.jpg" },
                { name: "ARTESANAL GOIABADA", price: 30.00, img: "https://i.ibb.co/4nfgvWGn/IMG-20250924-WA0009.jpg" },
                { name: "ESPECIAL STEAK", price: 30.00, img: "https://i.ibb.co/MxtW5hX2/IMG-20250928-WA0026.jpg" },
                { name: "X-D√ä-GUSTO", price: 28.00, img: "https://i.ibb.co/NgtBB7Nb/20251004-234747.jpg" },
                { name: "ARTESANAL CL√ÅSSICO", price: 28.00, img: "https://i.ibb.co/0pRMs7CM/20251004-235952.jpg" },
                { name: "ARTESANAL DORITOS", price: 30.00, img: "https://i.ibb.co/ZpvH013t/20251004-235135.jpg" },
                { name: "ARTESANAL DUPLO", price: 35.00, img: "https://i.ibb.co/JR70qRfW/20251004-235417.jpg" },
                { name: "X-BOLO GIGANTE", price: 42.00, img: "https://i.ibb.co/23rd6PGY/20251004-235801.jpg" },
                { name: "X-TUDO", price: 24.00, img: "https://i.ibb.co/Z1d5Q46K/x-tudo.png" },
                { name: "X-BACON", price: 22.00, img: "https://i.ibb.co/Pv8DLymw/IMG-20251004-WA0057.jpg" },
                { name: "X-CALABRESA", price: 22.00, img: "https://i.ibb.co/4wFq4fLJ/IMG-20251004-WA0058.jpg" },
                { name: "X-CHEDDAR", price: 22.00, img: "https://i.ibb.co/TMWKbdX5/IMG-20251004-WA0056.jpg" }
            ]},
            combo: { title: "üî• Combos", items: [{ name: "COMBO FAM√çLIA", price: 50.00, img: "https://i.ibb.co/Tq79qZsF/unnamed.png", desc: "2 X-Tudo + 2 refri 2L" }]},
            batatas: { title: "üçü Batatas", items: [{ name: "BATATA GIGANTE", price: 30.00, img: "https://i.ibb.co/0wxzgcT/Design-sem-nome-2.png" }]},
            hotdogs: { title: "üå≠ Hot Dogs", items: [
                { name: "Hot Dog 1", price: 10.00, img: "https://i.ibb.co/wFt4J1r5/dog1.png" },
                { name: "Hot Dog 2", price: 14.00, img: "https://i.ibb.co/hJph2sSL/dog-2-2.png" },
                { name: "Hot Dog Especial", price: 18.00, img: "https://i.ibb.co/Z6TSQVKx/dog-especial-degusto.png" }
            ]},
            chocolates: { title: "üç´ Chocolates", items: [
                { name: "Sonho de Valsa", price: 3.00, img: "https://i.ibb.co/8D5KSnxs/Sonho-de-Valsa.jpg" },
                { name: "Ouro Branco", price: 3.00, img: "https://i.ibb.co/2GPfKvj/Ouro-branco.jpg" },
                { name: "Caribe", price: 4.00, img: "https://i.ibb.co/XfYhYL0w/Caribe.jpg" },
                { name: "Trento Banoffee", price: 4.00, img: "https://i.ibb.co/VW8TpqpB/Trento-Massimo-Banofrree.jpg" },
                { name: "Hershey's Tubes", price: 4.00, img: "https://i.ibb.co/RkYmhv92/Hershey-s-Choco-Tubes.jpg" },
                { name: "Twix", price: 6.00, img: "https://i.ibb.co/5CX2tKs/Twix.jpg" },
                { name: "5Star", price: 6.00, img: "https://i.ibb.co/2Y3kXMzK/5Star.jpg" },
                { name: "Charge", price: 6.00, img: "https://i.ibb.co/zhmbQVSP/Charge.jpg" },
                { name: "Diamante Negro", price: 6.00, img: "https://i.ibb.co/sppd4VXm/Lacta-Diamante-Negro.jpg" }
            ]},
            bebidas: { title: "ü•§ Bebidas", items: [
                { name: "COCA-COLA 2L", price: 14.00 }, { name: "COCA-COLA 1L", price: 10.00 }, { name: "COCA-COLA LATA", price: 6.00 },
                { name: "FANTA 2L", price: 12.00 }, { name: "FANTA 1L", price: 10.00 }, { name: "KUAT 2L", price: 10.00 },
                { name: "MINEIRO 2L", price: 12.00 }, { name: "PITHUL√Å", price: 3.00 }
            ]},
            jantinha: { title: "üç≤ Jantinhas", items: [{ name: "Jantinha", price: 12.00, img: "https://i.ibb.co/0wxzgcT/Design-sem-nome-2.png", desc: "Marmita 500g completa" }]}
        };

        function saveCart() { localStorage.setItem('degusto_cart', JSON.stringify(cart)); updateCartCount(); renderCart(); }
        function updateCartCount() { document.getElementById('cartCount').textContent = cart.reduce((s,i)=>s+i.quantity,0) || 0; }

        function renderCart() {
            const el = document.getElementById('cartItems');
            if (cart.length === 0) {
                el.innerHTML = '<p class="text-center text-muted fs-4 my-5">Seu carrinho est√° vazio üòî</p>';
                return;
            }
            let html = '', total = 0;
            cart.forEach((item, i) => {
                const found = findItemByName(item.name);
                const img = found?.img ? `<img src="${found.img}" class="cart-item-img" alt="${item.name}">` : '<div class="bg-secondary cart-item-img d-flex align-items-center justify-content-center text-white fs-4">üçî</div>';
                const sub = item.price * item.quantity; total += sub;
                html += `<div class="cart-item">
                    ${img}
                    <div class="cart-item-info">
                        <strong>${item.quantity}√ó ${item.name}</strong><br>
                        <small class="text-success">R$ ${item.price.toFixed(2)} cada</small>
                        <div class="text-danger fw-bold mt-1">Subtotal: R$ ${sub.toFixed(2)}</div>
                    </div>
                    <div class="cart-item-controls">
                        <button class="btn btn-sm btn-outline-secondary" onclick="changeQuantity(${i},-1)">‚àí</button>
                        <span class="fw-bold fs-5">${item.quantity}</span>
                        <button class="btn btn-sm btn-outline-secondary" onclick="changeQuantity(${i},1)">+</button>
                        <button class="btn btn-sm btn-danger" onclick="removeFromCart(${i})"><i class="bi bi-trash"></i></button>
                    </div>
                </div>`;
            });
            html += `<div class="text-center mt-4 pt-3 border-top"><h3 class="text-danger fw-bold">Total: R$ ${total.toFixed(2)}</h3></div>`;
            el.innerHTML = html;
        }

        function findItemByName(name) {
            for (const cat in menuData) {
                const found = menuData[cat].items.find(i => i.name === name);
                if (found) return found;
            }
            return null;
        }

        function changeQuantity(i,d){ cart[i].quantity += d; if(cart[i].quantity<=0) cart.splice(i,1); saveCart(); }
        function removeFromCart(i){ cart.splice(i,1); saveCart(); }
        function clearCart(){ if(confirm("Limpar carrinho?")){ cart=[]; saveCart(); } }
        function addToCart(n,p,q=1){ const ex=cart.find(i=>i.name===n); if(ex) ex.quantity+=q; else cart.push({name:n,price:parseFloat(p),quantity:q}); saveCart(); showNotification(`Adicionado: ${q}√ó ${n}`); }
        function openModal(id){ document.getElementById(id).style.display='flex'; if(id==='cartModal') renderCart(); }
        function closeModal(id){ document.getElementById(id).style.display='none'; }
        function openCheckout(){ if(cart.length===0) return showNotification("Carrinho vazio!"); closeModal('cartModal'); const t=cart.reduce((s,i)=>s+i.price*i.quantity,0); document.getElementById('checkout-total').textContent=`Total: R$ ${t.toFixed(2)}`; openModal('checkout-modal'); }
        function showNotification(m){ const n=document.getElementById('notification'); n.textContent=m; n.style.display='block'; setTimeout(()=>n.style.display='none',3000); }

        function renderTabs(){
            const btns=document.getElementById('tab-buttons'), panels=document.getElementById('tab-panels');
            Object.keys(menuData).forEach((k,idx)=>{
                const btn=document.createElement('button'); btn.className=`tab-btn btn btn-lg btn-outline-danger ${idx===0?'active':''}`; btn.dataset.tab=k; btn.textContent=menuData[k].title.replace(/^[^\s]+ /,''); btns.appendChild(btn);
                const panel=document.createElement('div'); panel.id=k; panel.className=`tab-panel ${idx===0?'active':''}`;
                panel.innerHTML=`<h3 class="text-center mb-4">${menuData[k].title}</h3><div class="menu-grid"></div>`;
                const grid=panel.querySelector('.menu-grid');
                menuData[k].items.forEach(it=>{
                    const div=document.createElement('div'); div.className='item'; div.dataset.name=it.name; div.dataset.price=it.price;
                    if(it.img){ const img=document.createElement('img'); img.src=it.img; img.alt=it.name; img.loading='lazy'; img.onclick=()=>{ document.getElementById('fullImage').src=it.img; openModal('imageModal'); }; div.appendChild(img); }
                    div.innerHTML+=`<h3>${it.name}</h3>${it.desc?`<p>${it.desc}</p>`:''}<span>R$ ${it.price.toFixed(2)}</span><button class="add-to-cart btn btn-danger w-100 mt-2">Adicionar</button>`;
                    grid.appendChild(div);
                });
                panels.appendChild(panel);
            });
        }

        document.addEventListener('click', e=>{
            if(e.target.closest('.add-to-cart')){ const it=e.target.closest('.item'); addToCart(it.dataset.name,it.dataset.price); }
            else if(e.target.closest('.tab-btn')){ document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active')); document.querySelectorAll('.tab-panel').forEach(p=>p.classList.remove('active')); e.target.closest('.tab-btn').classList.add('active'); const p=document.getElementById(e.target.closest('.tab-btn').dataset.tab); if(p) p.classList.add('active'); }
        });

        document.getElementById('cart-button').onclick=()=>openModal('cartModal');
        document.getElementById('share-button').onclick=()=>{ if(navigator.share) navigator.share({title:'D√™Gusto',text:'Melhores lanches!',url:location.href}); else{ navigator.clipboard.writeText(location.href); showNotification('Link copiado!'); } };
        document.getElementById('help-button').onclick=()=>alert('üïñ Delivery a partir das 19h\nüì± WhatsApp: (34) 99953-7698');
        document.getElementById('copy-pix-cart').onclick=()=>{ navigator.clipboard.writeText(pixKey); showNotification('Chave PIX copiada!'); };
        document.getElementById('support-button').onclick=()=>document.getElementById('chat-container').style.display='flex';

        let st; document.getElementById('searchInput').oninput=function(){
            clearTimeout(st); st=setTimeout(()=>{
                const term=this.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");
                const has=term.length>0;
                document.querySelectorAll('.tab-panel').forEach(p=>p.style.display=has?'block':'none');
                if(!has) document.querySelector('.tab-panel.active').style.display='block';
                document.querySelectorAll('.item').forEach(it=>{ const txt=it.textContent.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""); it.style.display=txt.includes(term)?'block':'none'; });
            },300);
        };

        document.getElementById('checkout-form').onsubmit=function(e){
            e.preventDefault(); if(cart.length===0) return showNotification('Carrinho vazio');
            const nome=document.getElementById('nome-cliente').value.trim(), rua=document.getElementById('rua').value.trim(), num=document.getElementById('numero').value.trim(), bairro=document.getElementById('bairro').value.trim(), ref=document.getElementById('referencia').value.trim(), pag=document.querySelector('input[name="pagamento"]:checked')?.value, troco=document.getElementById('troco').value, obs=document.getElementById('observacoes').value.trim();
            if(!nome||!rua||!num||!bairro||!pag) return showNotification('Preencha todos os campos!');
            let msg=`*PEDIDO D√äGUSTO*%0A%0A*Nome:* ${nome}%0A*Endere√ßo:* ${rua}, ${num} - ${bairro}${ref? ' ('+ref+')' : ''}%0A%0A*Itens:*%0A`, total=0;
            cart.forEach(it=>{ const sub=it.price*it.quantity; total+=sub; msg+=`${it.quantity}√ó ${it.name} - R$ ${sub.toFixed(2)}%0A`; });
            msg+=`%0A*Total: R$ ${total.toFixed(2)}*%0A*Pagamento:* ${pag}${pag==='Dinheiro'&&troco?` (troco para R$ ${troco})`:''}${obs?`%0A*Obs:* ${obs}`:''}`;
            window.open(`https://wa.me/${phoneNumber}?text=${msg}`,'_blank');
            cart=[]; saveCart(); closeModal('checkout-modal'); showNotification('Pedido enviado com sucesso!');
        };
        document.querySelectorAll('input[name="pagamento"]').forEach(r=>r.onchange=()=>{ document.getElementById('troco-div').style.display=r.value==='Dinheiro'?'block':'none'; });

        document.getElementById('theme-button').onclick=()=>{
            document.body.classList.toggle('dark-mode');
            const dark=document.body.classList.contains('dark-mode');
            const ic=document.querySelector('#theme-button i');
            ic.classList.toggle('bi-moon-stars-fill',!dark); ic.classList.toggle('bi-sun-fill',dark);
            localStorage.setItem('theme',dark?'dark':'light');
        };

        const chatCont=document.getElementById('chat-container'), chatBody=document.getElementById('chat-body'), chatInp=document.getElementById('chat-input'), sendBtn=document.getElementById('send-chat'), closeChat=document.getElementById('close-chat');
        function addMsg(t,u=false){ const m=document.createElement('div'); m.className='message '+(u?'user':'bot'); m.innerHTML=t; chatBody.appendChild(m); chatBody.scrollTop=chatBody.scrollHeight; }
        function showSugg(){ const s=["Quero X-Costela","Jantinha","Combo Fam√≠lia","Twix","Ver carrinho","Finalizar"]; const d=document.createElement('div'); d.className='quick-suggestions'; s.forEach(txt=>{ const b=document.createElement('button'); b.className='quick-btn'; b.textContent=txt; b.onclick=()=>{ chatInp.value=txt; sendMsg(); }; d.appendChild(b); }); chatBody.appendChild(d); }
        function botResp(m){ const l=m.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""); let q=1; const qm=l.match(/(\d+)/); if(qm) q=parseInt(qm[1]);
            if(l.match(/oi|ola|bom dia/)) return "Ol√°! üòÑ Bem-vindo ao D√™Gusto! Qual lanche hoje?";
            if(l.includes('horario')) return "üïñ Delivery a partir das 19h todos os dias!";
            let found=null; for(const c in menuData){ menuData[c].items.forEach(i=>{ if(l.includes(i.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))) found=i; }); }
            if(found){ if(l.includes('quanto')||l.includes('preco')) return `${found.name} custa R$ ${found.price.toFixed(2)}! Quer adicionar?`; addToCart(found.name,found.price,q); return `${q>1?q+'√ó ':''}${found.name} adicionado${q>1?'s':''}!`; }
            if(l.includes('carrinho')){ openModal('cartModal'); return "üõí Abri seu carrinho!"; }
            if(l.includes('finalizar')){ openCheckout(); return "‚úÖ Indo para finaliza√ß√£o!"; }
            return "Me diga o nome do lanche que eu te ajudo üòä";
        }
        function sendMsg(){ const t=chatInp.value.trim(); if(!t) return; addMsg(t,true); chatInp.value=''; setTimeout(()=>{ addMsg(botResp(t)); showSugg(); },800); }
        sendBtn.onclick=sendMsg; chatInp.addEventListener('keypress',e=>{if(e.key==='Enter') sendMsg();}); closeChat.onclick=()=>chatCont.style.display='none';

        const radio=document.getElementById('radioPlayer'), playBtn=document.getElementById('playPauseBtn'), muteBtn=document.getElementById('muteBtn');
        let playing=false;
        if(radio){ radio.src="https://stream.zeno.fm/si5xey7akartv.mp3";
            playBtn.onclick=()=>{ if(playing){ radio.pause(); playBtn.innerHTML='<i class="bi bi-play-fill"></i> Play'; } else{ radio.play().catch(()=>showNotification("Erro na r√°dio")); playBtn.innerHTML='<i class="bi bi-pause-fill"></i> Pause'; } playing=!playing; };
            muteBtn.onclick=()=>{ radio.muted=!radio.muted; muteBtn.innerHTML=radio.muted?'<i class="bi bi-volume-mute-fill"></i> Som':'<i class="bi bi-volume-up-fill"></i> Som'; };
        }

        window.onload=()=>{
            if(localStorage.getItem('theme')==='dark'){ document.body.classList.add('dark-mode'); document.querySelector('#theme-button i').classList.replace('bi-moon-stars-fill','bi-sun-fill'); }
            updateCartCount(); renderTabs();
            setTimeout(()=>{ chatCont.style.display='flex'; addMsg("üëã Ol√°! Estou online para te atender!<br>Pe√ßa seu lanche que eu monto o pedido üòÑ"); showSugg(); },6000);
        };
    </script>
</body>
</html>