<!DOCTYPE html>
<html lang="pt-BR">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D√™Gusto Lanchonete</title>

<style>
:root{
    --bg: linear-gradient(135deg,#0c0c0c,#1a0000,#300000);
    --card: rgba(255,255,255,.08);
    --card-hover: rgba(255,255,255,.15);
    --text:#fff;
    --red:#ff3c3c;
    --green:#00e676;
    --panel:#0e0e0e;
}

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:system-ui,-apple-system,Segoe UI,Roboto;
}

body{
    background:var(--bg);
    color:var(--text);
    min-height:100vh;
}

/* HEADER */
header{
    position:sticky;
    top:0;
    z-index:10;
    backdrop-filter: blur(10px);
    background:#000000cc;
    padding:.4rem 0;
}
.logo{
    max-width:180px;
    width:70%;
    display:block;
    margin:auto;
}

/* CONTAINER */
.container{
    max-width:1000px;
    margin:auto;
    padding:.8rem 1rem;
}

/* SEARCH */
.search{
    width:100%;
    padding:.8rem 1.1rem;
    border-radius:40px;
    border:none;
    background:#ffffff18;
    color:white;
    font-size:1rem;
    outline:none;
}
.search:focus{
    background:#ffffff25;
}

/* SECTION */
.section{
    margin-top:1.5rem;
}
.section h2{
    color:#ff5555;
    margin-bottom:.4rem;
}

/* CARD */
.card{
    background:var(--card);
    padding:.85rem 1rem;
    margin-bottom:.55rem;
    border-radius:12px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    transition:.2s;
}
.card:hover{
    background:var(--card-hover);
    transform:translateY(-1px);
}
.card button{
    background:var(--red);
    border:none;
    padding:.45rem 1rem;
    border-radius:30px;
    color:white;
    font-weight:600;
    cursor:pointer;
}

/* CART BUTTON */
.cart-btn{
    position:fixed;
    bottom:18px;
    right:18px;
    width:60px;
    height:60px;
    background:var(--green);
    border-radius:50%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:1.6rem;
    cursor:pointer;
    box-shadow:0 8px 20px #00e67666;
    z-index:20;
}
.cart-count{
    position:absolute;
    top:4px;
    right:4px;
    background:var(--red);
    width:22px;
    height:22px;
    border-radius:50%;
    font-size:.75rem;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:bold;
}

/* OVERLAY */
.overlay{
    position:fixed;
    inset:0;
    background:#000000aa;
    backdrop-filter:blur(4px);
    opacity:0;
    visibility:hidden;
    transition:.3s;
    z-index:15;
}
.overlay.active{
    opacity:1;
    visibility:visible;
}

/* CART PANEL */
.cart-panel{
    position:fixed;
    right:-380px;
    top:0;
    width:380px;
    max-width:100%;
    height:100%;
    background:var(--panel);
    padding:1rem;
    transition:.35s;
    z-index:20;
    display:flex;
    flex-direction:column;
}
.cart-panel.active{
    right:0;
}

.cart-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:.8rem;
}
.close-btn{
    background:none;
    border:none;
    color:white;
    font-size:1.6rem;
    cursor:pointer;
}

.cart-item{
    background:var(--card);
    padding:.65rem;
    border-radius:8px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:.6rem;
}

.qty-btn{
    width:26px;
    height:26px;
    background:var(--red);
    border:none;
    color:white;
    border-radius:6px;
    cursor:pointer;
    margin-left:5px;
}

.cart-footer{
    margin-top:auto;
}
.total{
    font-weight:bold;
    color:var(--green);
}
.sugestao{
    font-size:.85rem;
    color:#ffc107;
    margin:.3rem 0;
}
.checkout{
    background:#25d366;
    border:none;
    padding:.8rem;
    width:100%;
    border-radius:10px;
    color:white;
    font-size:1rem;
    cursor:pointer;
}

@media(max-width:480px){
    .cart-panel{width:100%}
    .logo{max-width:160px}
}
</style>
</head>

<body>

<script>
document.addEventListener('DOMContentLoaded',()=>{

const PHONE="5534999537698";
const FREE_MIN=25;
const DELIVERY=5;

/* ===== CARD√ÅPIO ORIGINAL COMPLETO ===== */
const menuData=[
{title:"üî• Artesanais",items:[
{name:"Artesanal Cl√°ssico",price:35},
{name:"Artesanal Duplo",price:42},
{name:"Artesanal com Doritos",price:36},
{name:"Artesanal com An√©is de Cebola",price:40}
]},
{title:"üçü Batatas (com bacon e cheddar)",items:[
{name:"Batata 200g",price:15},
{name:"Batata 300g",price:20},
{name:"Batata 500g",price:35}
]},
{title:"ü•§ Bebidas",items:[
{name:"Coca-Cola 2L",price:14},
{name:"Coca-Cola 1L",price:10},
{name:"Coca-Cola Lata Grande",price:5},
{name:"Coca-Cola Lata Pequena",price:3.5},
{name:"Coca-Cola 1L Zero",price:10},
{name:"Coca-Cola Lata Zero",price:5},
{name:"Fanta 2L",price:12},
{name:"Fanta 1L",price:8},
{name:"Fanta Lata",price:5},
{name:"Mineiro 2L",price:12},
{name:"Kuat 2L",price:10},
{name:"Ant√°rtica Lata",price:5},
{name:"Mineiro Lata",price:5},
{name:"Pithula",price:3}
]},
{title:"üî• Combos Tradicionais",items:[
{name:"2x Tudo + 2 Refri",price:48},
{name:"2x Salada + 2 Refri",price:42},
{name:"2x Cheddar + 2 Refri",price:45},
{name:"2x Calabresa + 2 Refri",price:45},
{name:"2x Steak + 2 Refri",price:45}
]},
{title:"üçî Combos com Batata",items:[
{name:"2x Tudo + Batata P",price:50},
{name:"2x Salada + Batata P",price:45},
{name:"2x Calabresa + Batata P",price:45},
{name:"2x Cheddar + Batata P",price:48},
{name:"1x Tudo + Batata P",price:30},
{name:"1x Salada + Batata P",price:25},
{name:"1x Cheddar + Batata P",price:28},
{name:"1x Tudo + Batata + Refri",price:32}
]},
{title:"üíé Combos Especiais",items:[
{name:"2x D√™Gusto",price:55},
{name:"2x D√™Gusto + Batata M",price:65},
{name:"3x Tudo + 3 Batata P + 3 Refri",price:80},
{name:"2x Bagun√ßa + 2 Batata P",price:80},
{name:"2x Dobro + 2 Batata P",price:82},
{name:"2 Artesanais Cl√°ssicos + 2 Batata P",price:65},
{name:"2 Artesanais Duplo + 2 Batata P",price:80},
{name:"2 Artesanais Cl√°ssicos + Batata + Refri",price:75}
]}
];

/* ===== ELEMENTOS (ORIGINAL) ===== */
const header=document.createElement('header');
const logo=document.createElement('img');
logo.src="https://i.ibb.co/hFf6TMBb/logo-degusto-original-oficial.png";
logo.className="logo";
header.appendChild(logo);
document.body.appendChild(header);

const container=document.createElement('div');
container.className="container";

const search=document.createElement('input');
search.className="search";
search.placeholder="Buscar no card√°pio...";
container.appendChild(search);

const menuContainer=document.createElement('div');
container.appendChild(menuContainer);
document.body.appendChild(container);

const cartBtn=document.createElement('div');
cartBtn.className="cart-btn";
cartBtn.innerHTML="üõí";
const count=document.createElement('div');
count.className="cart-count";
count.textContent="0";
cartBtn.appendChild(count);
document.body.appendChild(cartBtn);

const overlay=document.createElement('div');
overlay.className="overlay";
document.body.appendChild(overlay);

const panel=document.createElement('div');
panel.className="cart-panel";

const panelHeader=document.createElement('div');
panelHeader.className="cart-header";
panelHeader.innerHTML="<h3>üõí Seu Pedido</h3>";
const close=document.createElement('button');
close.className="close-btn";
close.textContent="‚úï";
panelHeader.appendChild(close);
panel.appendChild(panelHeader);

const itemsDiv=document.createElement('div');
panel.appendChild(itemsDiv);

const footer=document.createElement('div');
footer.className="cart-footer";
const totalEl=document.createElement('div');
totalEl.className="total";
const sugEl=document.createElement('div');
sugEl.className="sugestao";
const finishBtn=document.createElement('button');
finishBtn.className="checkout";
finishBtn.textContent="Finalizar no WhatsApp";
footer.append(totalEl,sugEl,finishBtn);
panel.appendChild(footer);
document.body.appendChild(panel);

/* ===== L√ìGICA ORIGINAL ===== */
let cart=JSON.parse(localStorage.getItem('degusto-cart'))||[];

function save(){localStorage.setItem('degusto-cart',JSON.stringify(cart))}
function updateCount(){count.textContent=cart.reduce((s,i)=>s+i.qty,0)}

function renderMenu(){
    const q=search.value.toLowerCase();
    menuContainer.innerHTML="";
    menuData.forEach(sec=>{
        const filtered=sec.items.filter(i=>i.name.toLowerCase().includes(q));
        if(!filtered.length) return;
        const s=document.createElement('div');
        s.className="section";
        s.innerHTML=`<h2>${sec.title}</h2>`;
        filtered.forEach(item=>{
            const c=document.createElement('div');
            c.className="card";
            c.innerHTML=`<span>${item.name} ‚Äî R$ ${item.price.toFixed(2)}</span>`;
            const b=document.createElement('button');
            b.textContent="Adicionar";
            b.onclick=()=>{
                let it=cart.find(x=>x.name===item.name);
                it?it.qty++:cart.push({name:item.name,price:item.price,qty:1});
                save();updateCount();renderCart();
            };
            c.appendChild(b);
            s.appendChild(c);
        });
        menuContainer.appendChild(s);
    });
}

function renderCart(){
    itemsDiv.innerHTML="";
    let sub=cart.reduce((s,i)=>s+i.price*i.qty,0);
    const entrega=sub>=FREE_MIN?0:DELIVERY;
    cart.forEach((item,idx)=>{
        const row=document.createElement('div');
        row.className="cart-item";
        row.innerHTML=`<div>${item.qty}√ó ${item.name}<br>R$ ${(item.price*item.qty).toFixed(2)}</div>`;
        const ctr=document.createElement('div');
        ["‚àí","+"].forEach((t,i)=>{
            const b=document.createElement('button');
            b.className="qty-btn";
            b.textContent=t;
            b.onclick=()=>{
                i?item.qty++:item.qty--;
                if(item.qty<=0)cart.splice(idx,1);
                save();updateCount();renderCart();
            };
            ctr.appendChild(b);
        });
        row.appendChild(ctr);
        itemsDiv.appendChild(row);
    });
    totalEl.textContent=`Total: R$ ${(sub+entrega).toFixed(2)} ${entrega?' + R$5 entrega':'üöö Gr√°tis'}`;
    sugEl.textContent=(sub>0&&sub<FREE_MIN)?`Faltam R$ ${(FREE_MIN-sub).toFixed(2)} para entrega gr√°tis`:"";
}

function toggle(){
    panel.classList.toggle("active");
    overlay.classList.toggle("active");
}
function sendWhats(){
    if(!cart.length) return alert("Carrinho vazio!");
    let txt="üçî Pedido D√™Gusto\n\n"+cart.map(i=>`${i.qty}√ó ${i.name}`).join("\n");
    window.open(`https://wa.me/${PHONE}?text=${encodeURIComponent(txt)}`,"_blank");
}

/* EVENTOS */
search.oninput=renderMenu;
cartBtn.onclick=toggle;
overlay.onclick=toggle;
close.onclick=toggle;
finishBtn.onclick=sendWhats;

/* INIT */
renderMenu();
updateCount();
renderCart();

});
</script>

</body>
</html>
